{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport default function makeSearchRequest({\n  key,\n  q,\n  type = 'photo',\n  orientation = 'horizontal',\n  safesearch = true,\n}) {\n  return fetch(\n    'https://pixabay.com/api/?' +\n      new URLSearchParams({\n        key,\n        q,\n        image_type: type,\n        orientation,\n        safesearch,\n      }).toString()\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`No results were found for ${q}`));\n  });\n}","'use strict';\n\nexport default function renderItem({ largeImageURL, webformatURL, tags }) {\n  return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n        </li>`;\n}","'use strict';\n\nimport SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport makeSearchRequest from './js/pixabay-api.js';\nimport renderItem from './js/render-functions.js';\n\nconst form = document.getElementById('searching-form');\nconst loader = document.getElementById('loader');\nconst gallery = document.getElementById('gallery');\n\nconst lightbox = new SimpleLightbox('.gallery-item > a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n\n  if (form.elements.search.value === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  loader.classList.remove('is-hidden');\n\n  const params = {\n    key: '49622419-312bd19c735093b11668a437b',\n    q: form.elements.search.value,\n    orientation: form.elements.orientation.value,\n    type: form.elements.type.value,\n    sefesearch: form.elements.safesearch.value,\n  };\n\n  makeSearchRequest(params)\n    .then(data => {\n      const hits = data.hits;\n      if (hits.length === 0) {\n        iziToast.info({\n          title: 'Info',\n        });\n        return;\n      }\n      hits.forEach(item => {\n        gallery.insertAdjacentHTML('beforeend', renderItem(item));\n      });\n      lightbox.refresh();\n    })\n    .catch(err => {\n      iziToast.error({\n        title: 'Error',\n        message: err,\n      });\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n});"],"names":["makeSearchRequest","key","q","type","orientation","safesearch","response","renderItem","largeImageURL","webformatURL","tags","form","loader","gallery","lightbox","SimpleLightbox","event","iziToast","params","data","hits","item","err"],"mappings":"6vBAEe,SAASA,EAAkB,CACxC,IAAAC,EACA,EAAAC,EACA,KAAAC,EAAO,QACP,YAAAC,EAAc,aACd,WAAAC,EAAa,EACf,EAAG,CACD,OAAO,MACL,4BACE,IAAI,gBAAgB,CAClB,IAAAJ,EACA,EAAAC,EACA,WAAYC,EACZ,YAAAC,EACA,WAAAC,CACD,CAAA,EAAE,SAAU,CACnB,EAAI,KAAKC,GACDA,EAAS,GACJA,EAAS,OAEX,QAAQ,OAAO,IAAI,MAAM,6BAA6BJ,CAAC,EAAE,CAAC,CAClE,CACH,CCtBe,SAASK,EAAW,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,CAAI,EAAI,CACxE,MAAO;AAAA,0CACiCF,CAAa;AAAA,8CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA,cAGxE,CCDA,MAAMC,EAAO,SAAS,eAAe,gBAAgB,EAC/CC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAW,IAAIC,EAAe,oBAAqB,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CAIvC,GAHAA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GAEhBF,EAAK,SAAS,OAAO,QAAU,GAAI,CACrCM,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDL,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMM,EAAS,CACb,IAAK,qCACL,EAAGP,EAAK,SAAS,OAAO,MACxB,YAAaA,EAAK,SAAS,YAAY,MACvC,KAAMA,EAAK,SAAS,KAAK,MACzB,WAAYA,EAAK,SAAS,WAAW,KACzC,EAEEX,EAAkBkB,CAAM,EACrB,KAAKC,GAAQ,CACZ,MAAMC,EAAOD,EAAK,KAClB,GAAIC,EAAK,SAAW,EAAG,CACrBH,EAAS,KAAK,CACZ,MAAO,MACjB,CAAS,EACD,MACD,CACDG,EAAK,QAAQC,GAAQ,CACnBR,EAAQ,mBAAmB,YAAaN,EAAWc,CAAI,CAAC,CAChE,CAAO,EACDP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAO,CACZL,EAAS,MAAM,CACb,MAAO,QACP,QAASK,CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbV,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,CAAC"}